cmake_minimum_required(VERSION 3.25)
project(appLearn)
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/bin)
set(CINDER_CMAKE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/External/cinder/proj/cmake CACHE PATH "Path to the cinder cmake directory")
set(CINDER_PATH ${CMAKE_CURRENT_SOURCE_DIR}/External/cinder CACHE PATH "Path to the cinder directory")
set(CINDER_BUILD_ALL_SAMPLES OFF CACHE BOOL "Disable AntTweakBar support")
set(TBB_TEST OFF CACHE BOOL "Disable TBB tests")
include (${CINDER_CMAKE_DIR}/configure.cmake)
include( ${CINDER_CMAKE_DIR}/libcinder_configure.cmake )
include( ${CINDER_CMAKE_DIR}/libcinder_source_files.cmake )
include( ${CINDER_CMAKE_DIR}/modules/cinderMakeApp.cmake )
if( CINDER_LINUX )
	include( "${CINDER_CMAKE_DIR}/platform_linux.cmake" )
elseif( CINDER_MAC )
	include( "${CINDER_CMAKE_DIR}/platform_macosx.cmake" )
elseif( CINDER_ANDROID )
	include( "${CINDER_CMAKE_DIR}/platform_android.cmake" )
elseif( CINDER_MSW )
	include( "${CINDER_CMAKE_DIR}/platform_msw.cmake" )
else()
	message( FATAL_ERROR "no target defined for system: '${CMAKE_SYSTEM_NAME}.'" )
endif()

include( ${CINDER_CMAKE_DIR}/libcinder_target.cmake )
add_subdirectory(External/TBB)
set(ENTITYX_BUILD_SHARED false CACHE BOOL "Build shared libraries?")
add_subdirectory(External/entityx)
set(BUILD_UNIT_TESTS false CACHE BOOL "Build unit tests")
set(BUILD_EXAMPLES false CACHE BOOL "Build Examples")
set(BUILD_STATIC true CACHE BOOL "Build Static")
add_subdirectory(External/rttr)
file(GLOB_RECURSE SOURCES ${CMAKE_CURRENT_SOURCE_DIR}/src/*.cpp )
message(${SOURCES})
ci_make_app(
    APP_NAME appLearn
    CINDER_PATH ${CMAKE_CURRENT_SOURCE_DIR}/External/cinder
    SOURCES ${SOURCES}
    INCLUDES ${CMAKE_CURRENT_SOURCE_DIR}/External/cinder/include
    INCLUDES ${CMAKE_CURRENT_SOURCE_DIR}/External/cinder/include/imgui
            ${CMAKE_CURRENT_SOURCE_DIR}/External/TBB/include
            ${CMAKE_CURRENT_SOURCE_DIR}/External/RTTR/src
            ${CMAKE_CURRENT_SOURCE_DIR}/include
            ${CMAKE_CURRENT_SOURCE_DIR}/External/entityx
    LIBRARIES tbb tbbmalloc entityx RTTR::Core_Lib
)

# if( CINDER_BUILD_ALL_SAMPLES )
# 	include( ${CINDER_CMAKE_DIR}/modules/findCMakeDirs.cmake )

# 	set( allSamples "" )
# 	findCMakeDirs( allSamples "${CINDER_PATH}/samples" "${CINDER_SKIP_SAMPLES}" )

# 	foreach( sampleDir ${allSamples} )
# 		ci_log_v( "adding sample: ${sampleDir}" )
# 		add_subdirectory( ${sampleDir} )
# 	endforeach()
# endif()